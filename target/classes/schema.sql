-- Create the colors table first
CREATE TABLE colors (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY,
    name VARCHAR(50) NOT NULL UNIQUE,
    PRIMARY KEY (id)
);

-- Create the persons table with explicit column order
CREATE TABLE persons (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY,
    name VARCHAR(100) NOT NULL,
    lastname VARCHAR(100) NOT NULL,
    zipcode VARCHAR(10) NOT NULL,
    city VARCHAR(100) NOT NULL,
    color_id BIGINT NOT NULL,
    PRIMARY KEY (id),
    FOREIGN KEY (color_id) REFERENCES colors(id)
);

-- Insert colors first
INSERT INTO colors (name) VALUES 
('blau'),
('grün'),
('violett'),
('rot'),
('gelb'),
('türkis'),
('weiß'),
('schwarz');

-- Insert persons with color references
INSERT INTO persons (name, lastname, zipcode, city, color_id) VALUES 
('Hans', 'Müller', '67742', 'Lauterecken', 1),
('Peter', 'Petersen', '18439', 'Stralsund', 2),
('Johnny', 'Johnson', '88888', 'made up', 3),
('Milly', 'Millenium', '77777', 'made up too', 4),
('Jonas', 'Müller', '32323', 'Hansstadt', 5),
('Tastatur', 'Fujitsu', '42342', 'Japan', 6),
('Anders', 'Andersson', '32132', 'Schweden - ☀', 2),
('Bertram', 'Bart', '12313', 'Wasweißich', 1),
('Gerda', 'Gerber', '76535', 'Woanders', 3),
('Klaus', 'Klaussen', '43246', 'Hierach', 2);